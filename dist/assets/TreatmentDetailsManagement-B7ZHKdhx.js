import{r as g,j as e,ae as G,ak as U,i as L,az as X,aA as _,ai as J,aj as K,c as Q,X as W,am as Y}from"./ui-ChaMvfLm.js";import{D as M,o as V,B as x,C as k,a as A,I as N,S as w,b as C,c as D,d as S,e as h,f as Z,g as ee,n as F,p as se,q as te,r as re,s as ae,L as p,t as ie}from"./index-BwfpsJi4.js";import"./vendor-D3F3s8fL.js";import"./supabase-BXl3LOEh.js";const O=[{id:"implant",title:"ì„í”Œë€íŠ¸"},{id:"orthodontics",title:"êµì •ì¹˜ë£Œ"},{id:"aesthetic",title:"ì‹¬ë¯¸ì¹˜ë£Œ"},{id:"general",title:"ì¼ë°˜ì§„ë£Œ"}];function xe(){const[l,m]=g.useState([{id:"implant-general",title:"ì¼ë°˜ ì„í”Œë€íŠ¸",category:"implant",description:"ë‹¨ì¼ ì¹˜ì•„ ì„í”Œë€íŠ¸",order:1,status:"í™œì„±",price:"1,200,000ì›",duration:"3ê°œì›”"},{id:"implant-immediate",title:"ì¦‰ì‹œ ì„í”Œë€íŠ¸",category:"implant",description:"ë°œì¹˜ í›„ ì¦‰ì‹œ ì‹ë¦½",order:2,status:"í™œì„±",price:"1,500,000ì›",duration:"2ê°œì›”"},{id:"implant-navigation",title:"ë„¤ë¹„ê²Œì´ì…˜ ì„í”Œë€íŠ¸",category:"implant",description:"ì •ë°€ ê°€ì´ë“œ ì‹œìˆ ",order:3,status:"í™œì„±",price:"1,800,000ì›",duration:"3ê°œì›”"},{id:"implant-allon4",title:"All-on-4",category:"implant",description:"ì „ì•… ì„í”Œë€íŠ¸",order:4,status:"í™œì„±",price:"15,000,000ì›",duration:"6ê°œì›”"},{id:"ortho-invisible",title:"íˆ¬ëª…êµì •",category:"orthodontics",description:"ì¸ë¹„ì ˆë¼ì¸",order:1,status:"í™œì„±",price:"6,000,000ì›",duration:"18ê°œì›”"},{id:"ortho-lingual",title:"ì„¤ì¸¡êµì •",category:"orthodontics",description:"í˜€ìª½ ë¸Œë¼ì¼“",order:2,status:"í™œì„±",price:"8,000,000ì›",duration:"24ê°œì›”"},{id:"ortho-partial",title:"ë¶€ë¶„êµì •",category:"orthodontics",description:"ì•ë‹ˆ êµì •",order:3,status:"í™œì„±",price:"2,500,000ì›",duration:"12ê°œì›”"},{id:"aesthetic-laminate",title:"ë¼ë¯¸ë„¤ì´íŠ¸",category:"aesthetic",description:"ì•ë‹ˆ ì„±í˜•",order:1,status:"í™œì„±",price:"700,000ì›",duration:"2ì£¼"},{id:"aesthetic-crown",title:"ì˜¬ì„¸ë¼ë¯¹",category:"aesthetic",description:"ìì—°ìŠ¤ëŸ¬ìš´ í¬ë¼ìš´",order:2,status:"í™œì„±",price:"800,000ì›",duration:"2ì£¼"},{id:"aesthetic-whitening",title:"ì¹˜ì•„ë¯¸ë°±",category:"aesthetic",description:"ì „ë¬¸ ë¯¸ë°± ì‹œìˆ ",order:3,status:"í™œì„±",price:"400,000ì›",duration:"1ì£¼"},{id:"general-cavity",title:"ì¶©ì¹˜ì¹˜ë£Œ",category:"general",description:"ë ˆì§„/ì•„ë§ê°",order:1,status:"í™œì„±",price:"150,000ì›",duration:"1ì¼"},{id:"general-root",title:"ì‹ ê²½ì¹˜ë£Œ",category:"general",description:"ê·¼ê´€ì¹˜ë£Œ",order:2,status:"í™œì„±",price:"400,000ì›",duration:"2ì£¼"},{id:"general-scaling",title:"ìŠ¤ì¼€ì¼ë§",category:"general",description:"ì¹˜ì„ì œê±°",order:3,status:"í™œì„±",price:"100,000ì›",duration:"1ì¼"}]),[j,i]=g.useState(""),[c,b]=g.useState("ì „ì²´"),[a,n]=g.useState("ì „ì²´"),[B,v]=g.useState(null),[q,T]=g.useState(!1),H={id:"",title:"",category:"implant",description:"",order:1,status:"í™œì„±",price:"",duration:""},I=l.filter(t=>{const r=t.title.toLowerCase().includes(j.toLowerCase())||t.description.toLowerCase().includes(j.toLowerCase()),s=c==="ì „ì²´"||t.category===c,o=a==="ì „ì²´"||t.status===a;return r&&s&&o}).sort((t,r)=>t.category!==r.category?t.category.localeCompare(r.category):t.order-r.order).reduce((t,r)=>{const s=O.find(o=>o.id===r.category)?.title||r.category;return t[s]||(t[s]=[]),t[s].push(r),t},{}),E=t=>{if(t.id)m(r=>r.map(s=>s.id===t.id?{...t,updatedAt:new Date().toISOString().split("T")[0]}:s));else{const r=`${t.category}-${Date.now()}`,s=l.filter(d=>d.category===t.category),o=Math.max(...s.map(d=>d.order),0)+1,y={...t,id:r,order:o,createdAt:new Date().toISOString().split("T")[0],updatedAt:new Date().toISOString().split("T")[0]};m(d=>[...d,y])}T(!1),v(null)},P=t=>{confirm("ì •ë§ë¡œ ì´ ì„¸ë¶€ì§„ë£Œê³¼ëª©ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?")&&m(r=>r.filter(s=>s.id!==t))},z=(t,r)=>{const s=l.find(u=>u.id===t);if(!s)return;const o=l.filter(u=>u.category===s.category),y=r==="up"?s.order-1:s.order+1,d=o.find(u=>u.order===y);d&&m(u=>u.map(f=>f.id===t?{...f,order:y}:f.id===d.id?{...f,order:s.order}:f))},$=t=>{m(r=>r.map(s=>s.id===t?{...s,status:s.status==="í™œì„±"?"ë¹„í™œì„±":"í™œì„±"}:s))};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-2xl shadow-lg border border-indigo-100 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-indigo-600 to-indigo-800 bg-clip-text text-transparent",children:"ì„¸ë¶€ì§„ë£Œê³¼ëª© ê´€ë¦¬"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"ê° ì§„ë£Œê³¼ëª©ì˜ ì„¸ë¶€ ì¹˜ë£Œ í•­ëª©ì„ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤"})]}),e.jsxs(M,{open:q,onOpenChange:T,children:[e.jsx(V,{asChild:!0,children:e.jsxs(x,{className:"bg-gradient-to-r from-indigo-500 to-indigo-600 hover:from-indigo-600 hover:to-indigo-700",onClick:()=>v(H),children:[e.jsx(G,{className:"w-4 h-4 mr-2"}),"ìƒˆ ì„¸ë¶€ì¹˜ë£Œ ì¶”ê°€"]})}),e.jsx(R,{detail:B,onSave:E,onCancel:()=>{T(!1),v(null)}})]})]})}),e.jsx(k,{children:e.jsx(A,{className:"p-6",children:e.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[e.jsx("div",{className:"flex-1 min-w-[300px]",children:e.jsxs("div",{className:"relative",children:[e.jsx(U,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(N,{placeholder:"ì„¸ë¶€ì¹˜ë£Œëª…ì´ë‚˜ ì„¤ëª…ìœ¼ë¡œ ê²€ìƒ‰...",value:j,onChange:t=>i(t.target.value),className:"pl-10"})]})}),e.jsxs(w,{value:c,onValueChange:b,children:[e.jsx(C,{className:"w-[180px]",children:e.jsx(D,{})}),e.jsxs(S,{children:[e.jsx(h,{value:"ì „ì²´",children:"ì „ì²´ ì§„ë£Œê³¼ëª©"}),O.map(t=>e.jsx(h,{value:t.id,children:t.title},t.id))]})]}),e.jsxs(w,{value:a,onValueChange:t=>n(t),children:[e.jsx(C,{className:"w-[150px]",children:e.jsx(D,{})}),e.jsxs(S,{children:[e.jsx(h,{value:"ì „ì²´",children:"ì „ì²´ ìƒíƒœ"}),e.jsx(h,{value:"í™œì„±",children:"í™œì„±"}),e.jsx(h,{value:"ë¹„í™œì„±",children:"ë¹„í™œì„±"})]})]})]})})}),e.jsx("div",{className:"space-y-6",children:Object.entries(I).map(([t,r])=>e.jsxs(k,{children:[e.jsx(Z,{children:e.jsxs(ee,{className:"text-lg text-indigo-700 flex items-center space-x-2",children:[e.jsx(L,{className:"w-5 h-5"}),e.jsx("span",{children:t}),e.jsxs(F,{variant:"outline",children:[r.length,"ê°œ"]})]})}),e.jsx(A,{children:e.jsx("div",{className:"space-y-3",children:r.map(s=>e.jsx("div",{className:"border rounded-lg p-4 hover:bg-gray-50 transition-colors",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:s.title}),e.jsx(F,{variant:s.status==="í™œì„±"?"default":"secondary",children:s.status}),e.jsxs("span",{className:"text-sm text-gray-500",children:["#",s.order]})]}),e.jsx("p",{className:"text-gray-600 text-sm mb-2",children:s.description}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[s.price&&e.jsxs("span",{children:["ğŸ’° ",s.price]}),s.duration&&e.jsxs("span",{children:["â±ï¸ ",s.duration]}),s.createdAt&&e.jsxs("span",{children:["ğŸ“… ",s.createdAt]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(x,{variant:"outline",size:"sm",onClick:()=>z(s.id,"up"),disabled:s.order===1,children:e.jsx(X,{className:"w-4 h-4"})}),e.jsx(x,{variant:"outline",size:"sm",onClick:()=>z(s.id,"down"),disabled:s.order===Math.max(...r.map(o=>o.order)),children:e.jsx(_,{className:"w-4 h-4"})}),e.jsx(x,{variant:"outline",size:"sm",onClick:()=>$(s.id),className:s.status==="í™œì„±"?"text-green-600":"text-gray-600",children:s.status}),e.jsxs(M,{children:[e.jsx(V,{asChild:!0,children:e.jsx(x,{variant:"outline",size:"sm",onClick:()=>v(s),children:e.jsx(J,{className:"w-4 h-4"})})}),e.jsx(R,{detail:s,onSave:E,onCancel:()=>v(null)})]}),e.jsx(x,{variant:"outline",size:"sm",onClick:()=>P(s.id),className:"text-red-600 hover:bg-red-50",children:e.jsx(K,{className:"w-4 h-4"})})]})]})},s.id))})})]},t))}),Object.keys(I).length===0&&e.jsx(k,{children:e.jsxs(A,{className:"p-12 text-center",children:[e.jsx(L,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"ì„¸ë¶€ì¹˜ë£Œê°€ ì—†ìŠµë‹ˆë‹¤"}),e.jsx("p",{className:"text-gray-600",children:"ìƒˆë¡œìš´ ì„¸ë¶€ì¹˜ë£Œë¥¼ ì¶”ê°€í•´ë³´ì„¸ìš”"})]})})]})}function R({detail:l,onSave:m,onCancel:j}){const[i,c]=g.useState(l||{id:"",title:"",category:"implant",description:"",order:1,status:"í™œì„±",price:"",duration:""});Q.useEffect(()=>{l&&c(l)},[l]);const b=()=>{if(!i.title.trim()){alert("ì„¸ë¶€ì¹˜ë£Œëª…ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.");return}if(!i.description.trim()){alert("ì„¤ëª…ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.");return}m(i)};return e.jsxs(se,{className:"max-w-2xl",children:[e.jsxs(te,{children:[e.jsx(re,{children:l?.id?"ì„¸ë¶€ì¹˜ë£Œ í¸ì§‘":"ìƒˆ ì„¸ë¶€ì¹˜ë£Œ ì¶”ê°€"}),e.jsx(ae,{children:l?.id?"ê¸°ì¡´ ì„¸ë¶€ì¹˜ë£Œì˜ ì •ë³´ë¥¼ ìˆ˜ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.":"ìƒˆë¡œìš´ ì„¸ë¶€ì¹˜ë£Œë¥¼ ì¶”ê°€í•˜ê³  ì¹´í…Œê³ ë¦¬, ê°€ê²©, ê¸°ê°„ ì •ë³´ë¥¼ ì„¤ì •í•˜ì„¸ìš”."})]}),e.jsxs("div",{className:"space-y-6 py-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(p,{htmlFor:"title",children:"ì„¸ë¶€ì¹˜ë£Œëª… *"}),e.jsx(N,{id:"title",value:i.title,onChange:a=>c(n=>({...n,title:a.target.value})),placeholder:"ì˜ˆ: ì¼ë°˜ ì„í”Œë€íŠ¸"})]}),e.jsxs("div",{children:[e.jsx(p,{htmlFor:"category",children:"ì§„ë£Œê³¼ëª© *"}),e.jsxs(w,{value:i.category,onValueChange:a=>c(n=>({...n,category:a})),children:[e.jsx(C,{children:e.jsx(D,{})}),e.jsx(S,{children:O.map(a=>e.jsx(h,{value:a.id,children:a.title},a.id))})]})]})]}),e.jsxs("div",{children:[e.jsx(p,{htmlFor:"description",children:"ì„¤ëª… *"}),e.jsx(ie,{id:"description",value:i.description,onChange:a=>c(n=>({...n,description:a.target.value})),placeholder:"ì„¸ë¶€ì¹˜ë£Œì— ëŒ€í•œ ê°„ë‹¨í•œ ì„¤ëª…ì„ ì…ë ¥í•˜ì„¸ìš”",rows:3})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(p,{htmlFor:"price",children:"ì¹˜ë£Œë¹„ìš©"}),e.jsx(N,{id:"price",value:i.price||"",onChange:a=>c(n=>({...n,price:a.target.value})),placeholder:"ì˜ˆ: 1,200,000ì›"})]}),e.jsxs("div",{children:[e.jsx(p,{htmlFor:"duration",children:"ì¹˜ë£Œê¸°ê°„"}),e.jsx(N,{id:"duration",value:i.duration||"",onChange:a=>c(n=>({...n,duration:a.target.value})),placeholder:"ì˜ˆ: 3ê°œì›”"})]}),e.jsxs("div",{children:[e.jsx(p,{htmlFor:"status",children:"ìƒíƒœ"}),e.jsxs(w,{value:i.status,onValueChange:a=>c(n=>({...n,status:a})),children:[e.jsx(C,{children:e.jsx(D,{})}),e.jsxs(S,{children:[e.jsx(h,{value:"í™œì„±",children:"í™œì„±"}),e.jsx(h,{value:"ë¹„í™œì„±",children:"ë¹„í™œì„±"})]})]})]})]}),e.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[e.jsx(p,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"ë¯¸ë¦¬ë³´ê¸°"}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:i.title||"ì„¸ë¶€ì¹˜ë£Œëª…"}),e.jsx(F,{variant:"default",children:i.status})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:i.description||"ì„¤ëª…"}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[i.price&&e.jsxs("span",{children:["ğŸ’° ",i.price]}),i.duration&&e.jsxs("span",{children:["â±ï¸ ",i.duration]})]})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsxs(x,{variant:"outline",onClick:j,children:[e.jsx(W,{className:"w-4 h-4 mr-2"}),"ì·¨ì†Œ"]}),e.jsxs(x,{onClick:b,className:"bg-gradient-to-r from-indigo-500 to-indigo-600 hover:from-indigo-600 hover:to-indigo-700",children:[e.jsx(Y,{className:"w-4 h-4 mr-2"}),"ì €ì¥"]})]})]})}export{xe as default};
