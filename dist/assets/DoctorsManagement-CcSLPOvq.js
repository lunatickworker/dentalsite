import{r as w,j as e,ah as d,ae as j,u as C,t as g,h as E,d as k,al as A,G as D,ai as M}from"./ui-ChaMvfLm.js";import{u as O,B as m,C as r,a as i,m as P,n as p}from"./index-BwfpsJi4.js";import"./vendor-D3F3s8fL.js";import"./supabase-BXl3LOEh.js";function I(){const{state:u,dispatch:h}=O(),{doctors:a,loading:N}=u,n=w.useMemo(()=>{const s=a.length,l=a.filter(t=>t.status==="활성").length,c=a.filter(t=>t.certifications.length>0).length,x=s>0?a.reduce((t,y)=>t+parseInt(y.experience),0)/s:0;return{total:s,active:l,specialists:c,avgExperience:Math.round(x*10)/10}},[a]),f=s=>s==="활성"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",o=()=>{h({type:"OPEN_MODAL",payload:{type:"doctor-add",data:null}})},b=s=>{h({type:"OPEN_MODAL",payload:{type:"doctor-edit",data:s}})},v=s=>{h({type:"OPEN_MODAL",payload:{type:"doctor-view",data:s}})};return N?e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-4"}),e.jsx("div",{className:"h-64 bg-gray-200 rounded"})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-2xl shadow-lg border border-purple-100 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold bg-gradient-to-r from-purple-600 to-indigo-600 bg-clip-text text-transparent flex items-center",children:[e.jsx(d,{className:"w-6 h-6 mr-3 text-purple-600"}),"의료진 관리"]}),e.jsx("p",{className:"text-gray-600 mt-2",children:"의료진 정보와 일정을 관리하세요"})]}),e.jsx("div",{className:"flex items-center space-x-3",children:e.jsxs(m,{onClick:o,className:"bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700",children:[e.jsx(j,{className:"w-4 h-4 mr-2"}),"의료진 추가"]})})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(r,{className:"bg-gradient-to-br from-blue-50 to-blue-100 border-blue-200",children:e.jsx(i,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-blue-700 font-medium",children:"총 의료진"}),e.jsxs("p",{className:"text-2xl font-bold text-blue-800",children:[n.total,"명"]})]}),e.jsx(C,{className:"w-8 h-8 text-blue-600"})]})})}),e.jsx(r,{className:"bg-gradient-to-br from-green-50 to-green-100 border-green-200",children:e.jsx(i,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-green-700 font-medium",children:"활동 중"}),e.jsxs("p",{className:"text-2xl font-bold text-green-800",children:[n.active,"명"]})]}),e.jsx(d,{className:"w-8 h-8 text-green-600"})]})})}),e.jsx(r,{className:"bg-gradient-to-br from-red-50 to-red-100 border-red-200",children:e.jsx(i,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-red-700 font-medium",children:"전문의"}),e.jsxs("p",{className:"text-2xl font-bold text-red-800",children:[n.specialists,"명"]})]}),e.jsx(g,{className:"w-8 h-8 text-red-600"})]})})}),e.jsx(r,{className:"bg-gradient-to-br from-purple-50 to-purple-100 border-purple-200",children:e.jsx(i,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-purple-700 font-medium",children:"평균 경력"}),e.jsxs("p",{className:"text-2xl font-bold text-purple-800",children:[n.avgExperience,"년"]})]}),e.jsx(E,{className:"w-8 h-8 text-purple-600"})]})})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(s=>e.jsx(r,{className:"shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:e.jsxs(i,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden bg-purple-100",children:s.avatar?e.jsx(P,{src:s.avatar,alt:s.name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-purple-600 font-bold text-lg",children:s.name.charAt(0)})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-bold text-gray-900",children:s.name}),e.jsx("p",{className:"text-purple-600 font-medium",children:s.position}),e.jsx("div",{className:"flex items-center mt-1",children:e.jsx(p,{className:f(s.status),variant:"outline",children:s.status})})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium mb-1",children:"전문분야"}),e.jsx("p",{className:"text-gray-900",children:s.specialty})]}),e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(g,{className:"w-4 h-4 text-gray-400"}),e.jsxs("span",{className:"text-sm text-gray-600",children:["경력 ",s.experience]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(d,{className:"w-4 h-4 text-gray-400"}),e.jsxs("span",{className:"text-sm text-gray-600",children:["전문의 ",s.certifications.length,"개"]})]})]})}),s.certifications.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium mb-2",children:"자격증"}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[s.certifications.slice(0,2).map((l,c)=>e.jsx(p,{variant:"outline",className:"text-xs text-blue-600 border-blue-200",children:l},c)),s.certifications.length>2&&e.jsxs(p,{variant:"outline",className:"text-xs",children:["+",s.certifications.length-2]})]})]}),e.jsxs("div",{className:"mb-4 space-y-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[e.jsx(k,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-gray-600",children:s.phone})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[e.jsx(A,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-gray-600 truncate",children:s.email})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium mb-2",children:"이번 주 일정"}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:["월","화","수","목","금","토","일"].map((l,c)=>{const x=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"][c],t=s.schedule[x]&&!s.schedule[x].includes("휴진");return e.jsx("div",{className:`text-xs text-center py-1 rounded ${t?"bg-green-100 text-green-700":"bg-gray-100 text-gray-500"}`,children:l},l)})})]}),s.bio&&e.jsx("div",{className:"mb-4",children:e.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:s.bio})}),e.jsxs("div",{className:"flex items-center space-x-2 pt-4 border-t border-gray-100",children:[e.jsxs(m,{size:"sm",variant:"outline",className:"flex-1 border-gray-300",onClick:()=>v(s),children:[e.jsx(D,{className:"w-3 h-3 mr-1"}),"상세보기"]}),e.jsxs(m,{size:"sm",variant:"outline",className:"flex-1 border-purple-300 text-purple-600 hover:bg-purple-50",onClick:()=>b(s),children:[e.jsx(M,{className:"w-3 h-3 mr-1"}),"수정"]})]})]})},s.id))}),a.length===0&&e.jsx(r,{className:"shadow-lg border-0 bg-white",children:e.jsxs(i,{className:"text-center py-12",children:[e.jsx(d,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"의료진이 등록되지 않았습니다"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"새로운 의료진을 추가해보세요"}),e.jsxs(m,{onClick:o,className:"bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700",children:[e.jsx(j,{className:"w-4 h-4 mr-2"}),"의료진 추가"]})]})})]})}export{I as default};
