import{r as m,j as e,ae as q,ak as M,az as _,aA as U,ai as X,aj as G,H as E,g as T,o as J,n as K,c as Q,X as W,am as Y}from"./ui-ChaMvfLm.js";import{D as F,o as H,B as c,C as D,a as k,I as A,S as b,b as N,c as C,d as S,e as h,n as Z,p as ee,q as se,r as te,s as ae,L as x,t as le}from"./index-BwfpsJi4.js";import"./vendor-D3F3s8fL.js";import"./supabase-BXl3LOEh.js";const I=[{value:"Stethoscope",label:"청진기",icon:T},{value:"Heart",label:"하트",icon:E},{value:"Sparkles",label:"반짝임",icon:J},{value:"Smile",label:"미소",icon:K}],re=[{value:"text-blue-600",label:"파란색",bg:"bg-blue-100"},{value:"text-red-600",label:"빨간색",bg:"bg-red-100"},{value:"text-purple-600",label:"보라색",bg:"bg-purple-100"},{value:"text-emerald-600",label:"초록색",bg:"bg-emerald-100"},{value:"text-orange-600",label:"주황색",bg:"bg-orange-100"},{value:"text-pink-600",label:"분홍색",bg:"bg-pink-100"}];function oe(){const[n,o]=m.useState([{id:"implant",title:"임플란트",icon:"Stethoscope",color:"text-blue-600",description:"자연치아와 같은 기능 회복",order:1,status:"활성",createdAt:"2024-01-01",updatedAt:"2024-12-30"},{id:"orthodontics",title:"교정치료",icon:"Sparkles",color:"text-purple-600",description:"아름다운 미소를 위한 치아교정",order:2,status:"활성",createdAt:"2024-01-01",updatedAt:"2024-12-30"},{id:"aesthetic",title:"심미치료",icon:"Smile",color:"text-pink-600",description:"자연스럽고 아름다운 치아",order:3,status:"활성",createdAt:"2024-01-01",updatedAt:"2024-12-30"},{id:"general",title:"일반진료",icon:"Heart",color:"text-emerald-600",description:"건강한 치아 관리",order:4,status:"활성",createdAt:"2024-01-01",updatedAt:"2024-12-30"}]),[u,l]=m.useState(""),[d,w]=m.useState("전체"),[v,t]=m.useState(null),[r,j]=m.useState(!1),P={id:"",title:"",icon:"Stethoscope",color:"text-blue-600",description:"",order:n.length+1,status:"활성"},O=n.filter(s=>{const i=s.title.toLowerCase().includes(u.toLowerCase())||s.description.toLowerCase().includes(u.toLowerCase()),a=d==="전체"||s.status===d;return i&&a}).sort((s,i)=>s.order-i.order),y=s=>{if(s.id)o(i=>i.map(a=>a.id===s.id?{...s,updatedAt:new Date().toISOString().split("T")[0]}:a));else{const i=`category-${Date.now()}`,a={...s,id:i,createdAt:new Date().toISOString().split("T")[0],updatedAt:new Date().toISOString().split("T")[0]};o(f=>[...f,a])}j(!1),t(null)},$=s=>{confirm("정말로 이 진료과목을 삭제하시겠습니까?")&&o(i=>i.filter(a=>a.id!==s))},L=(s,i)=>{const a=n.find(p=>p.id===s);if(!a)return;const f=i==="up"?a.order-1:a.order+1,z=n.find(p=>p.order===f);z&&o(p=>p.map(g=>g.id===s?{...g,order:f}:g.id===z.id?{...g,order:a.order}:g))},B=s=>{o(i=>i.map(a=>a.id===s?{...a,status:a.status==="활성"?"비활성":"활성"}:a))},R=s=>{const i=I.find(a=>a.value===s)?.icon||T;return e.jsx(i,{className:"w-5 h-5"})};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-2xl shadow-lg border border-red-100 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-red-600 to-red-800 bg-clip-text text-transparent",children:"진료과목 관리"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"진료 카테고리를 관리하고 편집할 수 있습니다"})]}),e.jsxs(F,{open:r,onOpenChange:j,children:[e.jsx(H,{asChild:!0,children:e.jsxs(c,{className:"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700",onClick:()=>t(P),children:[e.jsx(q,{className:"w-4 h-4 mr-2"}),"새 진료과목 추가"]})}),e.jsx(V,{category:v,onSave:y,onCancel:()=>{j(!1),t(null)}})]})]})}),e.jsx(D,{children:e.jsx(k,{className:"p-6",children:e.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[e.jsx("div",{className:"flex-1 min-w-[300px]",children:e.jsxs("div",{className:"relative",children:[e.jsx(M,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(A,{placeholder:"진료과목명이나 설명으로 검색...",value:u,onChange:s=>l(s.target.value),className:"pl-10"})]})}),e.jsxs(b,{value:d,onValueChange:s=>w(s),children:[e.jsx(N,{className:"w-[150px]",children:e.jsx(C,{})}),e.jsxs(S,{children:[e.jsx(h,{value:"전체",children:"전체 상태"}),e.jsx(h,{value:"활성",children:"활성"}),e.jsx(h,{value:"비활성",children:"비활성"})]})]})]})})}),e.jsx("div",{className:"grid gap-4",children:O.map(s=>e.jsx(D,{className:"hover:shadow-lg transition-shadow",children:e.jsx(k,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-xl bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center ${s.color}`,children:R(s.icon)}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("h3",{className:"font-bold text-lg text-gray-900",children:s.title}),e.jsx(Z,{variant:s.status==="활성"?"default":"secondary",children:s.status}),e.jsxs("span",{className:"text-sm text-gray-500",children:["순서: ",s.order]})]}),e.jsx("p",{className:"text-gray-600 mt-1",children:s.description}),e.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-sm text-gray-500",children:[e.jsxs("span",{children:["생성: ",s.createdAt]}),e.jsxs("span",{children:["수정: ",s.updatedAt]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(c,{variant:"outline",size:"sm",onClick:()=>L(s.id,"up"),disabled:s.order===1,children:e.jsx(_,{className:"w-4 h-4"})}),e.jsx(c,{variant:"outline",size:"sm",onClick:()=>L(s.id,"down"),disabled:s.order===n.length,children:e.jsx(U,{className:"w-4 h-4"})}),e.jsx(c,{variant:"outline",size:"sm",onClick:()=>B(s.id),className:s.status==="활성"?"text-green-600":"text-gray-600",children:s.status==="활성"?"활성":"비활성"}),e.jsxs(F,{children:[e.jsx(H,{asChild:!0,children:e.jsx(c,{variant:"outline",size:"sm",onClick:()=>t(s),children:e.jsx(X,{className:"w-4 h-4"})})}),e.jsx(V,{category:s,onSave:y,onCancel:()=>t(null)})]}),e.jsx(c,{variant:"outline",size:"sm",onClick:()=>$(s.id),className:"text-red-600 hover:bg-red-50",children:e.jsx(G,{className:"w-4 h-4"})})]})]})})},s.id))}),O.length===0&&e.jsx(D,{children:e.jsxs(k,{className:"p-12 text-center",children:[e.jsx(E,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"진료과목이 없습니다"}),e.jsx("p",{className:"text-gray-600",children:"새로운 진료과목을 추가해보세요"})]})})]})}function V({category:n,onSave:o,onCancel:u}){const[l,d]=m.useState(n||{id:"",title:"",icon:"Stethoscope",color:"text-blue-600",description:"",order:1,status:"활성"});Q.useEffect(()=>{n&&d(n)},[n]);const w=()=>{if(!l.title.trim()){alert("진료과목명을 입력해주세요.");return}if(!l.description.trim()){alert("설명을 입력해주세요.");return}o(l)},v=t=>{const r=I.find(j=>j.value===t)?.icon||T;return e.jsx(r,{className:"w-5 h-5"})};return e.jsxs(ee,{className:"max-w-2xl",children:[e.jsxs(se,{children:[e.jsx(te,{children:n?.id?"진료과목 편집":"새 진료과목 추가"}),e.jsx(ae,{children:n?.id?"기존 진료과목의 정보를 수정할 수 있습니다.":"새로운 진료과목을 추가하고 아이콘, 색상, 설명을 설정하세요."})]}),e.jsxs("div",{className:"space-y-6 py-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(x,{htmlFor:"title",children:"진료과목명 *"}),e.jsx(A,{id:"title",value:l.title,onChange:t=>d(r=>({...r,title:t.target.value})),placeholder:"예: 임플란트"})]}),e.jsxs("div",{children:[e.jsx(x,{htmlFor:"order",children:"표시 순서"}),e.jsx(A,{id:"order",type:"number",min:"1",value:l.order,onChange:t=>d(r=>({...r,order:parseInt(t.target.value)||1}))})]})]}),e.jsxs("div",{children:[e.jsx(x,{htmlFor:"description",children:"설명 *"}),e.jsx(le,{id:"description",value:l.description,onChange:t=>d(r=>({...r,description:t.target.value})),placeholder:"진료과목에 대한 간단한 설명을 입력하세요",rows:3})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(x,{children:"아이콘 선택"}),e.jsxs(b,{value:l.icon,onValueChange:t=>d(r=>({...r,icon:t})),children:[e.jsx(N,{children:e.jsx(C,{})}),e.jsx(S,{children:I.map(t=>e.jsx(h,{value:t.value,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[v(t.value),e.jsx("span",{children:t.label})]})},t.value))})]})]}),e.jsxs("div",{children:[e.jsx(x,{children:"컬러 선택"}),e.jsxs(b,{value:l.color,onValueChange:t=>d(r=>({...r,color:t})),children:[e.jsx(N,{children:e.jsx(C,{})}),e.jsx(S,{children:re.map(t=>e.jsx(h,{value:t.value,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`w-4 h-4 rounded-full ${t.bg}`}),e.jsx("span",{children:t.label})]})},t.value))})]})]})]}),e.jsxs("div",{children:[e.jsx(x,{children:"상태"}),e.jsxs(b,{value:l.status,onValueChange:t=>d(r=>({...r,status:t})),children:[e.jsx(N,{children:e.jsx(C,{})}),e.jsxs(S,{children:[e.jsx(h,{value:"활성",children:"활성"}),e.jsx(h,{value:"비활성",children:"비활성"})]})]})]}),e.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[e.jsx(x,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"미리보기"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-xl bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center ${l.color}`,children:v(l.icon)}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-900",children:l.title||"진료과목명"}),e.jsx("p",{className:"text-sm text-gray-600",children:l.description||"설명"})]})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsxs(c,{variant:"outline",onClick:u,children:[e.jsx(W,{className:"w-4 h-4 mr-2"}),"취소"]}),e.jsxs(c,{onClick:w,className:"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700",children:[e.jsx(Y,{className:"w-4 h-4 mr-2"}),"저장"]})]})]})}export{oe as default};
